<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Teste SweetAlert</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/sweetalert2@11.14.1/dist/sweetalert2.min.css">
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11.14.1/dist/sweetalert2.all.min.js"></script>
</head>
<body>
    <h1>Teste de Confirmação de Exclusão</h1>
    
    <form id="testForm" method="POST" action="#" onsubmit="return handleDeleteConfirm(event, 'Tem certeza que deseja excluir este item?')">
        <button type="submit" style="background: red; color: white; padding: 10px;">
            Testar Exclusão
        </button>
    </form>

    <script>
        // SweetAlert2 for delete confirmations
        async function confirmDelete(message = 'Tem certeza que deseja excluir este item?') {
            const result = await Swal.fire({
                title: '⚠️ Confirmar Exclusão',
                html: `<p style="font-size: 16px; margin: 10px 0;">${message}</p><p style="color: #dc3545; font-weight: bold;">Esta ação não pode ser desfeita!</p>`,
                icon: 'warning',
                showCancelButton: true,
                confirmButtonColor: '#dc3545',
                cancelButtonColor: '#6c757d',
                confirmButtonText: '<i class="fas fa-trash"></i> Sim, excluir!',
                cancelButtonText: '<i class="fas fa-times"></i> Cancelar',
                customClass: {
                    confirmButton: 'btn btn-danger',
                    cancelButton: 'btn btn-secondary',
                    popup: 'swal-delete-popup',
                    title: 'swal-delete-title'
                },
                buttonsStyling: false,
                focusCancel: true,
                reverseButtons: true
            });
            return result.isConfirmed;
        }

        function handleDeleteConfirm(event, message) {
            event.preventDefault();
            const form = event.target;
            
            confirmDelete(message).then(confirmed => {
                if (confirmed) {
                    alert('Exclusão confirmada! (Em um caso real, o formulário seria enviado)');
                    // form.submit(); // Descomentaria isso em produção
                } else {
                    alert('Exclusão cancelada!');
                }
            });
            
            return false;
        }
    </script>
</body>
</html>